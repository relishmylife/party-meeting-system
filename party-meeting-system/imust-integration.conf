# 内蒙古科技大学集成配置

# 学校信息
SCHOOL_NAME=内蒙古科技大学
SCHOOL_DOMAIN=imust.edu.cn
SYSTEM_NAME=党组织生活会议管理系统

# 集成方式配置
INTEGRATION_MODE=subdomain  # 选项: iframe, sso, subdomain

# 统一身份认证配置
UNIFIED_AUTH_ENABLED=true
CAS_URL=https://cas.imust.edu.cn
SERVICE_URL=https://party.imust.edu.cn

# API端点
SCHOOL_API_BASE=https://api.imust.edu.cn
USER_INFO_ENDPOINT=/v1/user/info

# 数据库集成选项
DB_INTEGRATION_MODE=independent  # 选项: independent, shared, sync

# 如果使用共享数据库
# SHARED_DB_CONFIG:
#   host=school-db.imust.edu.cn
#   port=3306
#   database=university_portal
#   username=party_system
#   tables:
#     users: university_users
#     profiles: party_profiles

# SSO单点登录配置
SSO_CONFIG:
  enabled: true
  issuer: https://cas.imust.edu.cn
  client_id: party_system_client
  redirect_uri: https://party.imust.edu.cn/callback
  scope: "openid profile email"

# 门户集成配置
PORTAL_CONFIG:
  menu_item:
    name: "党组织生活"
    icon: "users"
    url: "https://party.imust.edu.cn"
    permission: "party_member"
  
  header_integration: false
  footer_integration: false
  navigation_integration: true

# 文件存储配置
STORAGE_CONFIG:
  use_school_storage: false
  school_storage_endpoint: https://storage.imust.edu.cn
  local_storage_path: /var/www/party-system/uploads

# 邮件服务配置（使用学校邮箱）
EMAIL_CONFIG:
  smtp_host: mail.imust.edu.cn
  smtp_port: 587
  smtp_user: party-system@imust.edu.cn
  smtp_password: your_email_password
  from_name: "内蒙古科技大学党组织管理系统"
  from_email: party-system@imust.edu.cn

# 权限配置
PERMISSION_CONFIG:
  # 基于学校的角色映射
  role_mapping:
    super_admin: ["admin", "super_admin"]
    admin: ["party_secretary", "party_organizer"]
    normal_user: ["party_member", "student", "teacher"]

# 安全配置
SECURITY_CONFIG:
  ip_restriction:
    enabled: true
    allowed_ranges:
      - "192.168.0.0/16"  # 校园网
      - "10.0.0.0/8"      # 内网
      - "172.16.0.0/12"   # 内网

  session_config:
    timeout: 3600  # 1小时
    renew_on_activity: true

# 备份策略
BACKUP_CONFIG:
  database_backup: true
  file_backup: true
  backup_location: "/backup/party-system"
  retention_days: 90
  compressed: true

# 日志配置
LOGGING_CONFIG:
  level: info
  file: "/var/log/party-system.log"
  max_size: "100MB"
  max_files: 30
  console: false

# 性能配置
PERFORMANCE_CONFIG:
  enable_compression: true
  cache_static_files: true
  static_cache_duration: 31536000  # 1年
  api_rate_limit: 1000  # 每小时请求限制

# 监控配置
MONITORING_CONFIG:
  health_check_url: "/health"
  metrics_endpoint: "/metrics"
  alert_email: admin@imust.edu.cn
  alert_thresholds:
    cpu_usage: 80
    memory_usage: 85
    disk_usage: 90

# 自定义功能配置
CUSTOM_CONFIG:
  school_branding: true
  school_logo_url: "https://www.imust.edu.cn/images/logo.png"
  school_primary_color: "#003d82"  # 学校主色调
  footer_text: "© 2025 内蒙古科技大学 党委组织部"